@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --radius: 0.75rem;
    
    /* Toast colors for light mode */
    --toast-bg: #ffffff;
    --toast-color: #111827;
    
    /* Refined light mode palette */
    --background: 244 247 255;
    --foreground: 15 23 42;
    --card: 255 255 255;
    --card-foreground: 15 23 42;
    --primary: 79 70 229;
    --primary-foreground: 255 255 255;
    --secondary: 238 242 255;
    --secondary-foreground: 30 64 175;
    --muted: 226 232 240;
    --muted-foreground: 100 116 139;
    --accent: 219 234 254;
    --accent-foreground: 15 23 42;
    --destructive: 248 113 113;
    --destructive-foreground: 255 255 255;
    --border: 226 232 240;
    --input: 226 232 240;
    --ring: 99 102 241;
  }

  .dark {
    /* Toast colors for dark mode */
    --toast-bg: #0f172a;
    --toast-color: #f8fafc;
    
    /* Refined dark mode palette */
    --background: 6 9 28;
    --foreground: 226 232 240;
    --card: 13 16 39;
    --card-foreground: 248 250 252;
    --primary: 129 140 248;
    --primary-foreground: 255 255 255;
    --secondary: 30 41 59;
    --secondary-foreground: 248 250 252;
    --muted: 30 41 59;
    --muted-foreground: 148 163 184;
    --accent: 15 23 42;
    --accent-foreground: 248 250 252;
    --destructive: 248 113 113;
    --destructive-foreground: 15 23 42;
    --border: 37 45 74;
    --input: 37 45 74;
    --ring: 129 140 248;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply text-gray-900 dark:text-slate-100;
    font-feature-settings: "rlig" 1, "calt" 1;
    background-color: hsl(var(--background) / 1);
    background-image: radial-gradient(circle at 20% 20%, rgba(99,102,241,0.12), transparent 45%), radial-gradient(circle at 80% 0%, rgba(236,72,153,0.15), transparent 40%), linear-gradient(180deg, #f8fafc 0%, #eef2ff 35%, #f8fafc 100%);
  }
  
  .dark body {
    background-image: radial-gradient(circle at 20% 20%, rgba(56,189,248,0.15), transparent 45%), radial-gradient(circle at 80% 0%, rgba(147,51,234,0.18), transparent 40%), linear-gradient(180deg, #020617 0%, #03091e 40%, #01030f 100%);
    background-color: #01030f;
  }
  
  html {
    scroll-behavior: smooth;
  }
}

/* Custom scrollbar */
@layer utilities {
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800 rounded-lg;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500;
  }
}

/* Animations */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-shimmer {
  animation: shimmer 2s infinite;
  background: linear-gradient(
    to right,
    #f3f4f6 0%,
    #e5e7eb 20%,
    #f3f4f6 40%,
    #f3f4f6 100%
  );
  background-size: 1000px 100%;
}

.dark .animate-shimmer {
  background: linear-gradient(
    to right,
    #1f2937 0%,
    #374151 20%,
    #1f2937 40%,
    #1f2937 100%
  );
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

.animate-slideUp {
  animation: slideUp 0.4s ease-out;
}

/* Card hover effects */
.card-hover {
  @apply transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5;
}

.dark .card-hover:hover {
  @apply shadow-xl shadow-blue-500/10;
}

/* Glass morphism effect */
.glass {
  @apply bg-white/70 dark:bg-slate-900/70 backdrop-blur-2xl border border-white/60 dark:border-white/10 shadow-[0_20px_45px_-20px_rgba(15,23,42,0.65)];
}

/* Gradient helpers */
.gradient-bg {
  background: radial-gradient(circle at top, rgba(59,130,246,0.35), transparent 45%), linear-gradient(135deg, #6366f1 0%, #8b5cf6 45%, #ec4899 100%);
}

.gradient-text {
  @apply bg-gradient-to-r from-indigo-500 via-sky-500 to-purple-500 bg-clip-text text-transparent;
}

/* Safe area for mobile devices */
.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Input focus styles */
input:focus,
textarea:focus,
select:focus {
  @apply ring-2 ring-blue-500 dark:ring-blue-400 border-transparent outline-none;
}

/* Button transitions */
button {
  @apply transition-all duration-200;
}

button:active {
  @apply scale-95;
}

/* Loading skeleton */
.skeleton {
  @apply animate-shimmer bg-gray-200 dark:bg-gray-700 rounded;
}

/* Smooth transitions for theme switching */
* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Prevent transition on page load */
.preload * {
  transition: none !important;
}

/* Application chrome + effects */
.app-shell {
  @apply relative min-h-screen isolate;
}

.background-grid {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(148, 163, 184, 0.15) 1px, transparent 1px),
    linear-gradient(90deg, rgba(148, 163, 184, 0.15) 1px, transparent 1px);
  background-size: 120px 120px;
  mask-image: radial-gradient(circle at center, rgba(0,0,0,0.45), transparent 65%);
  opacity: 0.35;
  pointer-events: none;
}

.dark .background-grid {
  opacity: 0.2;
  background-image:
    linear-gradient(rgba(51, 65, 85, 0.35) 1px, transparent 1px),
    linear-gradient(90deg, rgba(51, 65, 85, 0.35) 1px, transparent 1px);
}

.background-glow {
  position: absolute;
  width: 45rem;
  height: 45rem;
  border-radius: 999px;
  filter: blur(80px);
  opacity: 0.45;
  animation: pulseGlow 8s ease-in-out infinite alternate;
  pointer-events: none;
}

.background-glow.glow-one {
  top: -10rem;
  left: -5rem;
  background: radial-gradient(circle, rgba(79,70,229,0.7) 0%, transparent 65%);
}

.background-glow.glow-two {
  bottom: -15rem;
  right: -5rem;
  background: radial-gradient(circle, rgba(236,72,153,0.55) 0%, transparent 60%);
  animation-delay: 2s;
}

.dark .background-glow.glow-one {
  background: radial-gradient(circle, rgba(56,189,248,0.5) 0%, transparent 60%);
}

.dark .background-glow.glow-two {
  background: radial-gradient(circle, rgba(139,92,246,0.55) 0%, transparent 60%);
}

@keyframes pulseGlow {
  0% {
    transform: scale(0.9) translateY(0px);
    opacity: 0.35;
  }
  100% {
    transform: scale(1.05) translateY(-25px);
    opacity: 0.55;
  }
}

.glass-panel {
  @apply bg-white/75 dark:bg-slate-950/60 backdrop-blur-xl shadow-[0_20px_70px_-30px_rgba(15,23,42,0.65)] border border-white/60 dark:border-white/10;
}

.surface-card {
  @apply bg-white/90 dark:bg-slate-950/70 border border-white/70 dark:border-white/5 rounded-2xl shadow-[0_25px_60px_-35px_rgba(15,23,42,0.75)] transition-all duration-300;
}

.surface-card:hover {
  transform: translateY(-1px);
  box-shadow: 0 25px 70px -35px rgba(15, 23, 42, 0.55);
}

.icon-button {
  @apply rounded-xl border border-white/60 dark:border-white/10 bg-white/80 dark:bg-slate-900/70 shadow-[0_10px_30px_-20px_rgba(15,23,42,0.65)] hover:-translate-y-0.5 hover:shadow-[0_24px_45px_-25px_rgba(99,102,241,0.7)];
}

.floating-chip {
  @apply inline-flex items-center gap-2 rounded-2xl px-4 py-1.5 text-xs font-semibold uppercase tracking-wide;
  background: linear-gradient(120deg, rgba(129,140,248,0.2), rgba(236,72,153,0.2));
  color: #4338ca;
}

.dark .floating-chip {
  color: #c4b5fd;
  background: linear-gradient(120deg, rgba(56,189,248,0.2), rgba(147,51,234,0.25));
}
